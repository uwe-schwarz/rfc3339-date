@import "tailwindcss";

@font-face {
  font-family: "Geist Pixel Line";
  src: url("/fonts/geist-pixel-line.woff2") format("woff2");
  font-display: swap;
}

@font-face {
  font-family: "Geist Pixel Square";
  src: url("/fonts/geist-pixel-square.woff2") format("woff2");
  font-display: swap;
}

@font-face {
  font-family: "Geist Mono";
  src: url("/fonts/geist-mono-regular.woff2") format("woff2");
  font-display: swap;
}

@layer base {
  :root {
    color-scheme: dark;
  }

  body {
    font-family: "Geist Pixel Square", monospace;
    letter-spacing: 0.02em;
    text-shadow: 0 0 4px color-mix(in oklab, var(--color-lime-400) 35%, transparent);
    background:
      repeating-linear-gradient(
        to bottom,
        color-mix(in oklab, var(--color-lime-500) 10%, transparent) 0px,
        color-mix(in oklab, var(--color-lime-500) 10%, transparent) 1px,
        transparent 1px,
        transparent 3px
      ),
      radial-gradient(
        110rem 70rem at 50% -30%,
        color-mix(in oklab, var(--color-lime-500) 11%, transparent),
        transparent 55%
      ),
      var(--color-zinc-950);
    color: var(--color-lime-300);
  }

  h1,
  h2,
  h3 {
    font-family: "Geist Pixel Line", monospace;
    letter-spacing: 0.06em;
    text-transform: uppercase;
  }

  pre,
  code,
  .code-result {
    font-family: "Geist Mono", monospace;
  }

  a {
    color: var(--color-lime-300);
  }
}

@layer components {
  .page-shell {
    position: relative;
    isolation: isolate;
  }

  .surface-card {
    background-color: color-mix(in oklab, var(--color-zinc-950) 88%, transparent);
    box-shadow:
      inset 0 0 0 1px color-mix(in oklab, var(--color-lime-500) 35%, transparent),
      0 10px 34px color-mix(in oklab, var(--color-zinc-950) 44%, transparent);
  }

  .terminal-grid {
    position: relative;
  }

  .terminal-grid::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
      linear-gradient(
        to right,
        transparent 0,
        transparent calc(100% - 1px),
        color-mix(in oklab, var(--color-lime-500) 14%, transparent) 100%
      ),
      linear-gradient(
        to bottom,
        transparent 0,
        transparent calc(100% - 1px),
        color-mix(in oklab, var(--color-lime-500) 9%, transparent) 100%
      );
    background-size: 16px 16px;
    opacity: 0.26;
  }
}

@layer utilities {
  @keyframes rise {
    from {
      opacity: 0;
      transform: translateY(16px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .fx-enter {
    animation: rise 0.65s cubic-bezier(0.23, 1, 0.32, 1) both;
  }

  .fx-delay-1 {
    animation-delay: 0.08s;
  }

  .fx-delay-2 {
    animation-delay: 0.16s;
  }

  .fx-delay-3 {
    animation-delay: 0.24s;
  }

  .fx-hover-lift {
    transition:
      transform 220ms ease,
      box-shadow 220ms ease,
      border-color 220ms ease;
  }

  .fx-hover-lift:hover {
    transform: translateY(-2px);
    box-shadow:
      inset 0 0 0 1px color-mix(in oklab, var(--color-lime-500) 65%, transparent),
      0 0 26px color-mix(in oklab, var(--color-lime-500) 20%, transparent);
  }

  .fx-flicker {
    animation: flicker 2.4s linear infinite;
  }

  @keyframes flicker {
    0%,
    14%,
    16%,
    59%,
    61%,
    100% {
      opacity: 1;
    }
    15%,
    60% {
      opacity: 0.88;
    }
  }

  @media (prefers-reduced-motion: reduce) {
    .fx-enter {
      animation: none;
    }

    .fx-hover-lift,
    .fx-hover-lift:hover {
      transform: none;
      transition: none;
      box-shadow: none;
    }

    .fx-flicker {
      animation: none;
    }
  }
}
